#_id + rho_rx * tau_rx + lambda_r*gamma_xr
# y =    c   +     w_0 * x_1   +    x_2 * w_1 

if __name__ == "__main__":

#	import airtime

	nFrames = 64
	basic_rate = 6.5

	"""
	#MCS 0
	print "MCS 0"
	MCS_Mbps = 6.5
	T_L = airtime.T_total(nFrames, MCS_Mbps, basic_rate)
	P = [364.96, 371.16, 370.83, 400.25, 388.64, 399.97, 426.27, 426.93, 433.89, 423] # Total power
	lambda_r = [0.606, 1.2, 1.82, 2.42, 3.02, 3.62, 4.21, 4.85, 5.44, 5.78]           # thruput [x_2]
	tau_rx = [l_r*T_L for l_r in lambda_r]                                            # [x_1]
	"""


	#MCS 1
	print "MCS 1"
	MCS_Mbps = 13.0
	#T_L = airtime.T_total(nFrames, MCS_Mbps, basic_rate)
	P = [962.0633333, 959.3966667, 983.1366667, 984.44, 982.08, 989.213333, 990.82, 991.0066667, 964.6566667, 973.19, 998.4133333, 1001.533333, 1002.67, 1006.11, 1007.023333, 1014.923333, 993.41, 991.9833333, 1027.646667, 1016.236667, 1029.3, 1034.786667, 1037.856667, 1040.316667, 1029.43, 1036.236667, 1058.6, 1058.553333, 1068.72, 1077.016667, 1081.916667, 1091.706667, 1035.183333, 1066.943333, 1080.946667, 1082.723333, 1084.743333, 1092.72, 1099.563333, 1102.876667, 1039.706667, 1081.97, 1088.23, 1096.856667, 1098.683333, 1109.226667, 1106.553333, 1095.77, 1054.22, 1075.29, 1086.446667, 1094.183333, 1100.22, 1091.836667, 1094.226667, 1097.173333] # Total power
	lambda_r = [0.08, 0.16, 0.24, 0.4, 0.64, 0.8, 0.96, 1.176, 0.16, 0.32, 0.48, 0.8, 1.28, 1.6, 1.92, 2.352, 0.32, 0.64, 0.96, 1.6, 2.56, 3.2, 3.84, 4.704, 0.64, 1.28, 1.92, 3.2, 5.12, 6.4, 7.68, 9.408, 0.96, 1.92, 2.88, 3.84, 4.8, 5.76, 7.68, 9.6, 1.2, 2.4, 3.6, 4.8, 6, 7.2, 8.4, 9.6, 1.44, 2.88, 4.32, 5.76, 7.2, 8.64, 10.08, 10.8]           # thruput [x_2]
	tau_rx = [0.006956522, 0.013913043, 0.020869565, 0.034782609, 0.055652174, 0.069565217, 0.083478261, 0.10226087, 0.013913043, 0.027826087, 0.04173913, 0.069565217, 0.111304348, 0.139130435, 0.166956522, 0.204521739, 0.027826087, 0.055652174, 0.083478261, 0.139130435, 0.222608696, 0.27826087, 0.333913043, 0.409043478, 0.055652174, 0.111304348, 0.166956522, 0.27826087, 0.445217391, 0.556521739, 0.667826087, 0.818086957, 0.083478261, 0.166956522, 0.250434783, 0.333913043, 0.417391304, 0.500869565, 0.667826087, 0.834782609, 0.104347826, 0.208695652, 0.313043478, 0.417391304, 0.52173913, 0.626086957, 0.730434783, 0.834782609, 0.125217391, 0.250434783, 0.375652174, 0.500869565, 0.626086957, 0.751304348, 0.876521739, 0.939130435]         # [x_1]
	#replace tau_rx with column I from sheet
	
	"""
	#MCS 2
	print "MCS 2"
	MCS_Mbps = 19.5
	T_L = airtime.T_total(nFrames, MCS_Mbps, basic_rate)
	P = [370.34, 385.99, 413.82, 436.59, 454.23, 476.58, 488.26, 483.31, 487.59, 472.86] # Total power
	lambda_r = [1.91, 3.82, 5.71, 7.69, 9.6, 11.5, 13.4, 15.3, 17.2, 17.5]               # thruput [x_2]
	tau_rx = [l_r*T_L for l_r in lambda_r]                                               # [x_1]
	"""

	X = []
	for index in range(0,len(tau_rx)):
		row = []
		row.append(tau_rx[index])
		row.append(lambda_r[index])
		X.append(row)

	from sklearn import linear_model
	
	clf = linear_model.Ridge(alpha = .5)
	clf.fit(X,P)
	print clf.coef_

